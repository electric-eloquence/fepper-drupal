header.header
  background-color: $white
  border-bottom: 1px solid $gray-light-2
  padding: 0
  @media all and (max-width: $bp-sm-max)
    margin: 0
    padding-left: $space-half
  @media all and (min-width: $bp-med)
    padding-top: $space-half
    width: "calc(100% - %s)" % $space
  @media all and (min-width: $max-width)
    width: "calc(%s - %s)" % ($max-width $space)
#region-header
  float: left
  margin: $space-half $space-half 0 0
  @media all and (min-width: $bp-med)
    float: left
    margin: 0
// Need to lower specificity with an attribute match so these don't override other selections by attribute match.
[id="region-primary-menu"],
[id="region-secondary-menu"],
#region-header [id^="block-"][id$="-footer"]
  a
    display: block
    padding: 0.2rem 0
[id="region-primary-menu"],
[id="region-secondary-menu"]
  @media all and (max-width: $bp-sm-max)
    margin: 0
  @media all and (min-width: $bp-med)
    li
      padding-left: 1em
    nav
      > ul
        display: flex
        flex-wrap: wrap
        align-items: center
    .expanded
      > a::after
        content: "â–¼"
        font-size: 0.75em
        margin-left: $space-half
      ul
        li
          float: none
          border: 1px solid $gray-light-2
          border-bottom: 0
          min-width: 11rem
          padding: 0 1.2rem
          &:last-child
            border-bottom: 1px solid $gray-light-2
        a
          padding: 0.15rem 0 // This makes expanded menu horizontal borders align with header border bottom.
    nav > ul > .expanded
      &:hover > a,
      > a:focus
        + ul
          // Margin and padding must be switched from unhovered/unfocused state
          // so unexpanded items don't interfere with expanded items.
          margin-top: 0
          max-height: 100%
          padding-top: $space-half
      > ul
        background-color: $white-translucent
        max-height: 0
        padding-top: 0
        margin-top: $space-half
        overflow: hidden
        position: absolute
        transition: max-height 0.3s ease
        z-index: 2
        > .expanded li
          border-right: 0
          border-bottom: 0
          border-left: 0
[id="region-primary-menu"]
  display: flex
  align-items center
  float: left
  @media all and (max-width: $bp-sm-max)
    float: right
  @media all and (min-width: $bp-med)
    margin: $space-half 0
[id="region-secondary-menu"]
  float: right
#region-secondary-menu [id^="block-"][id*="-search"],
[id^="block-"][id*="-main"],
[id^="block-"][id*="-account"]
  > h2
    margin: 0
    padding: 0
    z-index: 3
    > a
      background-color: $white-translucent
      color: transparent
      cursor: pointer
      overflow: hidden
      padding: 1.2rem 0.9rem
      pointer-events: auto
      position: relative
      width: 4rem
      height: 4.6rem // This is the height of the header when the demo site uses the base theme.
      &:active
        background-color: $gray-light-1
      &::before
        background-size: cover
        content: ""
        display: block
        padding: 1.1rem
      &:hover::before,
      &:focus::before
        filter: invert(50%)
  @media all and (max-width: $bp-sm-max)
    position: static // In order for the mobile nav to work while logged in.
  @media all and (min-width: $bp-med)
    .hidden-link
      display: none
[id^="block-"][id*="-main"],
[id^="block-"][id*="-account"]
  @media all and (max-width: $bp-sm-max)
    > ul
      background-color: $white-translucent
      max-height: 0
      overflow: hidden
      position: absolute
      transition: max-height 0.1s ease
      top: $nav-toggle-n-border
      left: 0
      width: 100%
      z-index: 4
    li
      float: none
      padding-right: 0
      a
        border-bottom: 1px solid $gray-light-2
        padding: 0.7rem $space
        &:active
          background-color: $gray-light-1
      li
        padding-left: 1.2rem
    &.open
      > ul
        max-height: none
// Search form.
#region-secondary-menu [id^="block-"][id*="-search"]
  > h2 > a
    &::before
      background-image: url("../../_assets/src/icon-search.svg")
      filter: invert(20%)
// Main navigation.
[id^="block-"][id*="-main"]
  > h2 > a
    &::before
      background-image: url("../../_assets/src/icon-menu.svg")
      filter: invert(20%)
// User account menu.
[id^="block-"][id*="-account"]
  > h2 > a
    &::before
      background-image: url("../../_assets/src/icon-avatar.svg")
      filter: invert(20%)
  @media all and (max-width: $bp-sm-max)
    > ul
      text-align: right
// Use more general matching to select blocks with the word "branding" in the name, i.e. do not include a hyphen along
// with "branding". This is to select both custom blocks as well as the system branding block.
[id^="block-"][id*="branding"]
  h1,
  p
    margin: 0
    padding: 0
  > div
    > a,
    > h1:first-child a,
    > p:first-child a
      display: table
    > a,
    > h1,
    > p
      &:first-child
        @media all and (min-width: $bp-med)
          display: inline-block
          vertical-align: bottom
  img
    @media all and (max-width: $bp-sm-max)
      height: 3.8rem
    @media all and (min-width: $bp-med)
      margin-right: $space-half
// Search Form
[id^="block-"][id*="-search"]
  float: right
  margin-left: 7rem
  .path-search &
    display: none
  [id="region-secondary-menu"] &
    margin-left: 0
// Main Navigation
[id^="block-"][id*="-main"]
  @media all and (max-width: $bp-xs-max)
    > ul
      clear: both
// General Navigation
nav li
  padding-right: 1em
// Override nav padding.
#region-breadcrumb,
#breadcrumb
  li
    padding-right: 0
